# üì° Device Data API

–°–µ—Ä–≤–∏—Å –¥–ª—è –ø—Ä–∏—ë–º–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –æ—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ–ª—É—á–µ–Ω–∏—è –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –∫–∞–∂–¥–æ–º—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É.

![FastAPI](https://img.shields.io/badge/FastAPI-0.110+-green?logo=fastapi)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15-blue?logo=postgresql)
![Docker](https://img.shields.io/badge/Dockerized-yes-blue?logo=docker)

---

## üöÄ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- üêç Python 3.11
- ‚ö° FastAPI
- üêò PostgreSQL
- üê≥ Docker + Docker Compose
- üßµ Async SQLAlchemy + asyncpg
- üìÑ Pydantic

---

## üì¶ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

> ‚ö†Ô∏è –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã Docker –∏ Docker Compose

    ```bash
    # –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
    git clone https://github.com/IamGagik/device-data-api.git
    cd device-data-api

    #–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
    ```bash
    docker-compose up --build
    ```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
üëâ http://localhost:8000/docs ‚Äî Swagger UI (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)

---

## üß† –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

üî∏ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤a
    ```bash
    POST /devices/{device_id}/data
    ```

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
    ```json
    {
    "x": 10.5,
    "y": 4.2,
    "z": 6.3
    }
    ```

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
    ```json
    {
    "status": "saved"
    }
    ```

üî∏ –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    ```bash
    GET /devices/{device_id}/analysis
    ```

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
    ```json
    {
    "min": 21.0,
    "max": 33.4,
    "count": 5,
    "sum": 112.5,
    "median": 23.7
    }
    ```

‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env
–°–æ–∑–¥–∞–π –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Ñ–∞–π–ª .env –∏ –¥–æ–±–∞–≤—å —Å—Ç—Ä–æ–∫—É:
    ```bash
    DATABASE_URL=postgresql+asyncpg://user:password@db:5432/devices
    ```

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
    ```bash
    app/
    ‚îú‚îÄ‚îÄ api/          # –†–æ—É—Ç—ã FastAPI
    ‚îú‚îÄ‚îÄ db/           # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î –∏ –º–æ–¥–µ–ª–∏
    ‚îú‚îÄ‚îÄ schemas/      # Pydantic-—Å—Ö–µ–º—ã (–≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã)
    ‚îú‚îÄ‚îÄ services/     # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–∞–Ω–∞–ª–∏–∑)
    ‚îî‚îÄ‚îÄ main.py       # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
    ```

---

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä
–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å –¥—É—à–æ–π ‚ù§Ô∏è
GitHub: @IamGagik

---